<script>
    $('#form').on('change keyup keydown paste cut', 'textarea', function () {
        $(this).height(0).height(this.scrollHeight);
    }).find('textarea').change();
</script>

<div ng-if="ctrl.readOnly === true">
    <md-content ng-cloak class="md-inline-form">
        <div layout-gt-sm="row" layout-align="space-between center">
            <h1>&nbsp;{{ctrl.code}} - {{ctrl.country}} - {{ctrl.region}}&nbsp;</h1>
            <h3>&nbsp;{{ctrl.description}}</h3>

            <div layout="row">
                <md-button class="md-raised md-primary" aria-label="Convert to Draft" ng-if="ctrl.convertToDraft" ng-hide="ctrl.main.isRequestProcessing"
                    ng-click="ctrl.revertToDraft(ctrl.model)">
                    Convert to Draft
                </md-button>
                <md-button class="md-raised md-primary" aria-label="Reject" ng-if="ctrl.reject === true" ng-hide="ctrl.main.isRequestProcessing"
                    ng-click="ctrl.rejectReport(ctrl.model)">
                    Reject
                </md-button>
                <md-button class="md-raised md-primary" aria-label="Approve" ng-if="ctrl.approve === true" ng-hide="ctrl.main.isRequestProcessing"
                    ng-click="ctrl.approveReport(ctrl.model)">
                    Approve
                </md-button>
                <md-progress-circular md-mode="indeterminate" class="md-primary md-hue-3" ng-show="ctrl.main.isRequestProcessing" md-diameter="70"></md-progress-circular>
            </div>
        </div>

        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>General Info</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Sitrep date: </span>{{ctrl.model.sitrepDate}}</div>
                <div>
                    <span class="bold">Next sitrep date: </span>{{ctrl.model.nextSitrepDate}}</div>
                <div>
                    <span class="bold">Sitrep number:</span> {{ctrl.model.sitrepNumber}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Phase:</span> {{ctrl.model.phase}}</div>
                <div>
                    <span class="bold">Category:</span> {{ctrl.model.category}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">General Context Internal:</span> {{ctrl.model.generalContextInternal}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">General Context External: </span>{{ctrl.model.generalContextExternal}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Response Update Internal: </span>{{ctrl.model.responseUpdateInternal}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Response Update External:</span> {{ctrl.model.responseUpdateExternal}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Challenges Internal: </span>{{ctrl.model.challengesInternal}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Ops Backstop: </span>{{ctrl.model.opsBackstop}}</div>
            </div>
        </div>

        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>Reach figures</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Affected population: </span>{{ctrl.model.affectedPopulation}}</div>
                <div>
                    <span class="bold">Number of children affected: </span>{{ctrl.model.affectedChildren}}</div>
                <div>
                    <span class="bold">Strategy target (all): </span>{{ctrl.model.strategyTarget}}</div>
                <div>
                    <span class="bold">Strategy target (children): </span>{{ctrl.model.strategyTargetChildren}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Total reach since start date:</span> {{ctrl.model.totalReachSinceStart}}</div>
                <div>
                    <span class="bold">Total reach since last sitrep:</span> {{ctrl.model.totalReachSinceLastSitrep}}</div>
                <div>
                    <span class="bold">Children reached since start date:</span> {{ctrl.model.childrenReachedSinceStart}}</div>
                <div>
                    <span class="bold">Children reached since last sitrep: </span>{{ctrl.model.childrenReachedSinceLastSitrep}}</div>
            </div>
        </div>

        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>Income</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Response strategy target (USD):</span> {{ctrl.model.responseStrategyTarget}}</div>
                <div>
                    <span class="bold">Seed funds target (USD):</span> {{ctrl.model.seedFundsTarget}}</div>
                <div>
                    <span class="bold">Crisis Modifiers:</span> {{ctrl.model.crisisModifiers}}</div>
                <div>
                    <span class="bold">Seed funds target date set:</span> {{ctrl.model.seedFundsTargetDate}}</div>
            </div>
            <div layout-gt-md="row" layout-padding ng-hide="!ctrl.model.nonSciResponses">
                <div>
                    <span class="bold">Secured income (USD):</span> {{ctrl.model.securedIncome}}</div>
                <div>
                    <span class="bold">New awards in year (USD):</span> {{ctrl.model.newAwards}}</div>
                <div>
                    <span class="bold">Response Pipeline (USD): </span>{{ctrl.model.responsePipeline}}</div>
                <div>
                    <span class="bold">Of which appeal (USD):</span> {{ctrl.model.responsePipelineAppeal}}</div>
            </div>
            <div layout-gt-md="row" layout-padding ng-hide="!ctrl.model.nonSciResponses">
                <h5>Of which seed funds</h5>
            </div>
            <div layout-gt-md="row" layout-padding ng-hide="!ctrl.model.nonSciResponses">
                <div>
                    <span class="bold">Seed funds secured {USD):</span> {{ctrl.model.seedFundsSecured}}</div>
                <div>
                    <span class="bold">Seed funds secured in year (USD):</span> {{ctrl.model.seedFundsSecuredYearly}}</div>
                <div>
                    <span class="bold">CSF (USD): </span>{{ctrl.model.cSF}}</div>
            </div>
        </div>

        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>Deliverables</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Assessment:</span>
                    <a href="{{ctrl.model.assessment}}" target="_blank">{{ctrl.model.assessment}}</a>
                </div>
                <br>
                <div>
                    <span class="bold">Outline:</span>
                    <a href="{{ctrl.model.outline}}" target="_blank">{{ctrl.model.outline}}</a>
                </div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Strategy:</span>
                    <a href="{{ctrl.model.strategy}}" target="_blank">{{ctrl.model.strategy}}</a>
                </div>
                <br>
                <div>
                    <span class="bold">Plan:</span>
                    <a href="{{ctrl.model.plan}}" target="_blank">{{ctrl.model.plan}}</a>
                </div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Operations Control review:</span>
                    <a href="{{ctrl.model.operationsControlReview}}" target="_blank">{{ctrl.model.operationsControlReview}}</a>
                </div>
                <br>
                <div>
                    <span class="bold">Real-time review:</span>
                    <a href="{{ctrl.model.realTimeReview}}" target="_blank">{{ctrl.model.realTimeReview}}</a>
                </div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Representation on Humanitarian Country Team (HCT): </span>{{ctrl.model.representationOnHCTBool}}</div>
                <br>
                <div>
                    <span class="bold">Education cluster or working group activated:</span> {{ctrl.model.educationClusterBool}}</div>
                <br>
                <div>
                    <span class="bold">SC Education Cluster staff in place:</span> {{ctrl.model.staffingEducationClusterBool}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">SC co-leading Education Cluster or working group: </span>{{ctrl.model.sciLeadingEducationClusterBool}}</div>
                <br>
                <div ng-if="sciLeadingEducationClusterBool">
                    <span class="bold">Percentage time dedicated to the education cluster</span> {{ctrl.model.percentTimeToEducationCluster}}%</div>
            </div>
        </div>


        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>Sectors</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Child protection backstop:</span>
                    <br>{{ctrl.model.childProtectionBackstop}}</div>

                <div>
                    <span class="bold">Summary of response to date and achievements since last sitrep:</span>
                    <br>{{ctrl.model.childProtectionSummary}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Education backstop:</span> {{ctrl.model.educationBackstop}}</div>
                <br>
                <div>
                    <span class="bold">Summary of response to date and achievements since last sitrep:</span>
                    <br>{{ctrl.model.educationSummary}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">FSL backstop: </span>{{ctrl.model.fSLBackstop}}</div>
                <br>
                <div>
                    <span class="bold">Summary of response to date and achievements since last sitrep:</span>
                    <br>{{ctrl.model.fSLSummary}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">WASH backstop:</span> {{ctrl.model.wASHBackstop}}</div>
                <br>
                <div>
                    <span class="bold">Summary of response to date and achievements since last sitrep:</span>
                    <br>{{ctrl.model.wASHSummary}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Shelter backstop: </span>{{ctrl.model.shelterBackstop}}</div>
                <br>
                <div>
                    <span class="bold">Summary of response to date and achievements since last sitrep:</span>
                    <br>{{ctrl.model.shelterSummary}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Health backstop: </span>{{ctrl.model.healthBackstop}}</div>
                <br>
                <div>
                    <span class="bold">Summary of response to date and achievements since last sitrep:</span>
                    <br>{{ctrl.model.healthSummary}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">EHU Deployed: </span>{{ctrl.model.eHUDeployedDate}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Nutrition:</span>
                    <br>{{ctrl.model.nutritionSummary}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Link to output tracker:</span>
                    <a href="{{ctrl.model.outputTracker}}" target="_blank">{{ctrl.model.outputTracker}}</a>
                </div>
            </div>
        </div>

        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>HR</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold"># of national response staff:</span> {{ctrl.model.nationalStaffNumber}}</div>
                <div>
                    <span class="bold"># of international staff:</span> {{ctrl.model.internationalStaffNumber}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Deployment tracker link:</span>
                    <a href="{{ctrl.model.deploymentTrackerLink}}" target="_blank">{{ctrl.model.deploymentTrackerLink}}</a>
                </div>
            </div>
        </div>

        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>Saftey and security</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold"> Please provide an overview of the S&amp;S context, including details of security incidents, since the
                        last SitRep:
                    </span>
                    <br>{{ctrl.model.securityContext}}</div>
                <div>
                    <span class="bold">What immediate S&amp;S challenges are predicted?:</span>
                    <br>{{ctrl.model.securityChallenges}}</div>
                <div>
                    <span class="bold">How will those challenges be managed?:</span>
                    <br>{{ctrl.model.securityManagement}}</div>
            </div>
        </div>

        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>Child Safeguarding</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">% of staff with child safeguarding training: </span>{{ctrl.model.staffChildSafegaurding}}%</div>
                <div>
                    <span class="bold">Child safeguarding focal point:</span> {{ctrl.model.safegaurdingFocalPoint}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Key safeguarding risks to children:</span>
                    <br>{{ctrl.model.safegaurdingRisks}}</div>
            </div>
        </div>

        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>Advocacy, Media and Comms</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Link to Communications Pack:</span>
                    <a href="{{ctrl.model.commsPack}}" target="_blank">{{ctrl.model.commsPack}}</a>
                </div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Recent media coverage:</span> {{ctrl.model.mediaCoverage}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Advocacy actions and achievements:</span> {{ctrl.model.advocacyActions}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Spokespeople:</span> {{ctrl.model.spokespeople}}</div>
            </div>
        </div>

        <div class="well">
            <div layout-gt-md="row" layout-padding>
                <h4>Emergency supply chain</h4>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Do you have prepositioned stock in country?: </span>{{ctrl.model.prepositionedStock}}</div>
                <div>
                    <span class="bold">Are you planning to use it for this response?: </span>{{ctrl.model.forThisResponse}}</div>
            </div>
            <div layout-gt-md="row" layout-padding>
                <div>
                    <span class="bold">Planned procurement on this response (in USD): </span>{{ctrl.model.plannedProcurement}}</div>
                <div>
                    <span class="bold">Procurement spend to date (in USD): </span>{{ctrl.model.procurementSpend}}</div>
            </div>
        </div>

    </md-content>
</div>




<md-content ng-cloak class="md-inline-form" ng-if="ctrl.readOnly === false">
    <ng-form name="form" novalidate>
        <div layout-gt-sm="row" layout-align="space-between center">
            <h1>&nbsp;{{ctrl.code}} - {{ctrl.country}} - {{ctrl.region}}&nbsp;</h1>
            <h3>&nbsp;{{ctrl.description}}</h3>
            <div layout="row">
                <md-button class="md-raised md-primary" aria-label="save" ng-if="ctrl.saveDraft" ng-hide="ctrl.main.isRequestProcessing"
                    ng-click="ctrl.storeAsDraft(form)">
                    Save Draft
                </md-button>
                <md-button class="md-raised md-primary" aria-label="save" ng-if="ctrl.submit === true" ng-hide="ctrl.main.isRequestProcessing"
                    ng-click="ctrl.submitReport(form)" ng-disabled="form.$invalid">
                    Submit
                </md-button>
                <md-progress-circular md-mode="indeterminate" class="md-primary md-hue-3" ng-show="ctrl.main.isRequestProcessing" md-diameter="70"></md-progress-circular>
            </div>
        </div>

        <div ng-show="form.$invalid && !form.$pristine" class="well-error">
            <div>
                <h4>General Info errors</h4>
                <div ng-messages="form.sitrepNumber.$error" ng-show="form.sitrepNumber.$invalid">
                    <div ng-message="required">Sitrep Number is required</div>
                    <div ng-message="max">Sitrep Number is too high</div>
                </div>
                <div ng-messages="form.category.$error" ng-show="form.category.$invalid">
                    <div ng-message="required">Category is required</div>
                    <div ng-message="md-maxlength">Category is too long</div>
                </div>
                <div ng-messages="form.generalContextInternal.$error" ng-show="form.generalContextInternal.$invalid">
                    <div ng-message="required">General Context (Internal) is required</div>
                    <div ng-message="md-maxlength">General Context (Internal) is too long</div>
                </div>
                <div ng-messages="form.generalContextExternal.$error" ng-show="form.generalContextExternal.$invalid">
                    <div ng-message="required">General Context (External) is required</div>
                    <div ng-message="md-maxlength">General Context (External) is too long</div>
                </div>
                <div ng-messages="form.responseUpdateInternal.$error" ng-show="form.responseUpdateInternal.$invalid">
                    <div ng-message="required">Response Update (Internal) is required</div>
                    <div ng-message="md-maxlength">Response Update (Internal) is too long</div>
                </div>
                <div ng-messages="form.responseUpdateExternal.$error" ng-show="form.responseUpdateExternal.$invalid">
                    <div ng-message="required">Response Update (External) is required</div>
                    <div ng-message="md-maxlength">Response Update (External) is too long</div>
                </div>
                <div ng-messages="form.challengesInternal.$error" ng-show="form.challengesInternal.$invalid">
                    <div ng-message="required">Challenges Internal is required</div>
                    <div ng-message="md-maxlength">Challenges Internal is too long</div>
                </div>
                <div ng-messages="form.opsBackstop.$error" ng-show="form.opsBackstop.$invalid">
                    <div ng-message="required">Ops Backstop is required</div>
                    <div ng-message="md-maxlength">Ops Backstop is too long</div>
                </div>
            </div>

            <div>
                <h4>Reach figures errors</h4>
                <div ng-messages="form.affectedPopulation.$error" ng-show="form.affectedPopulation.$invalid">
                    <div ng-message="required">Affected Population is required</div>
                    <div ng-message="max">Affected Population is too high</div>
                </div>
                <div ng-messages="form.affectedChildren.$error" ng-show="form.affectedChildren.$invalid">
                    <div ng-message="required">Number of children affected is required</div>
                    <div ng-message="max">Number of children affected is too high</div>
                </div>
                <div ng-messages="form.strategyTarget.$error" ng-show="form.strategyTarget.$invalid">
                    <div ng-message="required">Strategy Target is required</div>
                    <div ng-message="max">Strategy Target is too high</div>
                </div>
                <div ng-messages="form.strategyTargetChildren.$error" ng-show="form.strategyTargetChildren.$invalid">
                    <div ng-message="required">Strategy Target Children is required</div>
                    <div ng-message="max">Strategy Target Children is too high</div>
                </div>
                <div ng-messages="form.totalReachSinceStart.$error" ng-show="form.totalReachSinceStart.$invalid">
                    <div ng-message="required">Total Reach Since Start is required</div>
                    <div ng-message="max">Total Reach Since Start is too high</div>
                </div>
                <div ng-messages="form.totalReachSinceLastSitrep.$error" ng-show="form.totalReachSinceLastSitrep.$invalid">
                    <div ng-message="required">Total Reach Since Last Sitrep is required</div>
                    <div ng-message="max">Total Reach Since Last Sitrep is too high</div>
                </div>
                <div ng-messages="form.childrenReachedSinceStart.$error" ng-show="form.childrenReachedSinceStart.$invalid">
                    <div ng-message="required">Children Reached Since Start is required</div>
                    <div ng-message="max">Children Reached Since Start too high</div>
                </div>
                <div ng-messages="form.childrenReachedSinceLastSitrep.$error" ng-show="form.childrenReachedSinceLastSitrep.$invalid">
                    <div ng-message="required">Children Reached Since last Sitrep is required</div>
                    <div ng-message="max">Children Reached Since last Sitrep is too high</div>
                </div>
            </div>
            <div>
                <h4>Income errors</h4>
                <div ng-messages="form.responseStrategyTarget.$error" ng-show="form.responseStrategyTarget.$invalid">
                    <div ng-message="required">Response Strategy Target is required</div>
                    <div ng-message="max">Response Strategy Target is too high</div>
                </div>
                <div ng-messages="form.seedFundsTarget.$error" ng-show="form.seedFundsTarget.$invalid">
                    <div ng-message="required">Seed Funds Target is required</div>
                    <div ng-message="max">Seed Funds Target is too high</div>
                </div>
                <div ng-messages="form.crisisModifiers.$error" ng-show="form.crisisModifiers.$invalid">
                    <div ng-message="max">Crisis Modifiers is too high</div>
                </div>
                <div ng-messages="form.securedIncome.$error" ng-show="form.securedIncome.$invalid">
                    <div ng-message="required">Secured Income is required</div>
                    <div ng-message="max">Secured Income is too high</div>
                </div>
                <div ng-messages="form.newAwards.$error" ng-show="form.newAwards.$invalid">
                    <div ng-message="required">New Awards is required</div>
                    <div ng-message="max">New Awards is too high</div>
                </div>
                <div ng-messages="form.responsePipeline.$error" ng-show="form.responsePipeline.$invalid">
                    <div ng-message="required">Response Pipeline is required</div>
                    <div ng-message="max">Response Pipeline is too high</div>
                </div>
                <div ng-messages="form.responsePipelineAppeal.$error" ng-show="form.responsePipelineAppeal.$invalid">
                    <div ng-message="required">Response Pipeline Appeal is required</div>
                    <div ng-message="max">Response Pipeline Appeal is too high</div>
                </div>
                <div ng-messages="form.seedFundsSecured.$error" ng-show="form.seedFundsSecured.$invalid">
                    <div ng-message="required">Seed Funds Secured is required</div>
                    <div ng-message="max">Seed Funds Secured is too high</div>
                </div>
                <div ng-messages="form.seedFundsSecuredYearly.$error" ng-show="form.seedFundsSecuredYearly.$invalid">
                    <div ng-message="required">Seed Funds Secured Yearly is required</div>
                    <div ng-message="max">Seed Funds Secured Yearly is too high</div>
                </div>
                <div ng-messages="form.cSF.$error" ng-show="form.cSF.$invalid">
                    <div ng-message="required">CSF is required</div>
                    <div ng-message="max">CSF is too high</div>
                </div>
            </div>
            <div ng-if="ctrl.model.nonSciResponses">
                <h4>Spend errors</h4>
                <div ng-messages="form.responseTotalSpend.$error" ng-show="form.responseTotalSpend.$invalid">
                    <div ng-message="required">Response Total Spend is required</div>
                    <div ng-message="max">Response Total Spend is too high</div>
                </div>
                <div ng-messages="form.totalSpendAgainstCSF.$error" ng-show="form.totalSpendAgainstCSF.$invalid">
                    <div ng-message="required">Total Spend Against CSF is required</div>
                    <div ng-message="max">Total Spend Against CSF is too high</div>
                </div>
                <div ng-messages="form.totalSpendThroughPartners.$error" ng-show="form.totalSpendThroughPartners.$invalid">
                    <div ng-message="required">Total Spend Through Partners is required</div>
                    <div ng-message="max">Total Spend Through Partners is too high</div>
                </div>
                <div ng-messages="form.totalSpendThroughCTP.$error" ng-show="form.totalSpendThroughCTP.$invalid">
                    <div ng-message="required">Total Spend Through CTP is required</div>
                    <div ng-message="max">Total Spend Through CTP is too high</div>
                </div>
                <div ng-messages="form.totalSpendEducation.$error" ng-show="form.totalSpendEducation.$invalid">
                    <div ng-message="required">Total Spend Education is required</div>
                    <div ng-message="max">Total Spend Education is too high</div>
                </div>
            </div>
            <div>
                <h4>Deliverables errors</h4>
                <div ng-messages="form.assessment.$error" ng-show="form.assessment.$invalid">
                    <div ng-message="required">Assessment is required</div>
                </div>
                <div ng-messages="form.outline.$error" ng-show="form.outline.$invalid">
                    <div ng-message="required">Outline is required</div>
                </div>
                <div ng-messages="form.strategy.$error" ng-show="form.strategy.$invalid">
                    <div ng-message="required">Strategy is required</div>
                </div>
                <div ng-messages="form.plan.$error" ng-show="form.plan.$invalid">
                    <div ng-message="required">Plan is required</div>
                </div>
                <div ng-messages="form.operationsControlReview.$error" ng-show="form.operationsControlReview.$invalid">
                    <div ng-message="required">Operations Control Review is required</div>
                </div>
                <div ng-messages="form.realTimeReview.$error" ng-show="form.realTimeReview.$invalid">
                    <div ng-message="required">Real Time Review is required</div>
                </div>
                <div ng-messages="form.percentTimeToEducationCluster.$error" ng-show="form.percentTimeToEducationCluster.$invalid">
                        <div ng-message="max">% time to Education Cluster is over 100</div>
                    </div>
            </div>
            <div>
                <h4>Sectors errors</h4>
                <div ng-messages="form.childProtectionBackstop.$error" ng-show="form.childProtectionBackstop.$invalid">
                    <div ng-message="required">childProtectionBackstop is required</div>
                </div>
                <div ng-messages="form.childProtectionSummary.$error" ng-show="form.childProtectionSummary.$invalid">
                    <div ng-message="required">Child Protection Summary is required</div>
                    <div ng-message="md-maxlength">Child Protection Summary's too long</div>
                </div>
                <div ng-messages="form.educationBackstop.$error" ng-show="form.educationBackstop.$invalid">
                    <div ng-message="required">Education Backstop is required</div>
                </div>
                <div ng-messages="form.educationSummary.$error" ng-show="form.educationSummary.$invalid">
                    <div ng-message="required">Education Summary is required</div>
                    <div ng-message="md-maxlength">Education Summary's too long</div>
                </div>
                <div ng-messages="form.fSLBackstop.$error" ng-show="form.fSLBackstop.$invalid">
                    <div ng-message="required">FSL Backstop is required</div>
                </div>
                <div ng-messages="form.fSLSummary.$error" ng-show="form.fSLSummary.$invalid">
                    <div ng-message="required">FSL Summary is required</div>
                    <div ng-message="md-maxlength">FSL Summary is too long</div>
                </div>
                <div ng-messages="form.wASHBackstop.$error" ng-show="form.wASHBackstop.$invalid">
                    <div ng-message="required">WASH Backstop is required</div>
                </div>
                <div ng-messages="form.wASHSummary.$error" ng-show="form.wASHSummary.$invalid">
                    <div ng-message="required">WASH Summary is required</div>
                    <div ng-message="md-maxlength">WASH Summary is too long</div>
                </div>
                <div ng-messages="form.shelterBackstop.$error" ng-show="form.shelterBackstop.$invalid">
                    <div ng-message="required">Shelter Backstop is required</div>
                </div>
                <div ng-messages="form.shelterSummary.$error" ng-show="form.shelterSummary.$invalid">
                    <div ng-message="required">Shelter Summary is required</div>
                    <div ng-message="md-maxlength">Shelter Summary's too long</div>
                </div>
                <div ng-messages="form.healthBackstop.$error" ng-show="form.healthBackstop.$invalid">
                    <div ng-message="required">Health Backstop is required</div>
                </div>
                <div ng-messages="form.healthSummary.$error" ng-show="form.healthSummary.$invalid">
                    <div ng-message="required">Health Summary is required</div>
                    <div ng-message="md-maxlength">Health Summary is too long</div>
                </div>
                <div ng-messages="form.nutritionSummary.$error" ng-show="form.nutritionSummary.$invalid">
                    <div ng-message="required">Nutrition Summary is required</div>
                    <div ng-message="md-maxlength">Nutrition Summary is too long</div>
                </div>
            </div>
            <div>
                <h4>HR errors</h4>
                <div ng-messages="form.nationalStaffNumber.$error" ng-show="form.nationalStaffNumber.$invalid">
                    <div ng-message="max">National Staff Number is too high</div>
                </div>
                <div ng-messages="form.internationalStaffNumber.$error" ng-show="form.internationalStaffNumber.$invalid">
                    <div ng-message="max">International Staff Number is too high</div>
                </div>
            </div>
            <div>
                <h4>Saftey and Security errors</h4>
                <div ng-messages="form.securityContext.$error" ng-show="form.securityContext.$invalid">
                    <div ng-message="required">Security Context is required</div>
                    <div ng-message="md-maxlength">Security Context is too long</div>
                </div>
                <div ng-messages="form.securityChallenges.$error" ng-show="form.securityChallenges.$invalid">
                    <div ng-message="required">Security Challenges is required</div>
                    <div ng-message="md-maxlength">Security Challenges is too long</div>
                </div>
                <div ng-messages="form.securityManagement.$error" ng-show="form.securityManagement.$invalid">
                    <div ng-message="required">Security Management is required</div>
                    <div ng-message="md-maxlength">Security Management is too long</div>
                </div>
            </div>
            <div>
                <h4>Emergency supply chain</h4>
                <div ng-messages="form.plannedProcurement.$error">
                    <div ng-message="max">Planned Procurement is too high</div>
                </div>
                <div ng-messages="form.procurementSpend.$error">
                    <div ng-message="max">Procurement Spend is too high</div>
                </div>
            </div>
        </div>

        <toggle-accordion-section></toggle-accordion-section>

        <div class="md-block" flex-gt-sm="50">
            <label>Non SCI Implemented</label>
            <md-checkbox ng-model="ctrl.model.nonSciResponses">
            </md-checkbox>
        </div>
        <accordion heading="General Info">
            <div layout-gt-md="row" layout-padding>
                <div class="md-block" style="margin-top: -47px;" flex-gt-sm="25">
                    <h5 style="font-weight: normal !important">Sitrep date</h5>
                    <md-datepicker ng-model="ctrl.model.sitrepDate" md-placeholder="Enter date"></md-datepicker>
                </div>
                <md-input-container class="md-block" flex-gt-sm="25">
                    <label>Sitrep Number</label>
                    <input type="number" ng-model="ctrl.model.sitrepNumber" name="sitrepNumber" max="999" required></input>
                    <div ng-messages="form.sitrepNumber.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <div class="md-block" style="margin-top: -47px;" flex-gt-sm="25">
                    <h5 style="font-weight: normal !important">Next sitrep</h5>
                    <md-datepicker ng-model="ctrl.model.nextSitrepDate" md-placeholder="Enter date"></md-datepicker>
                </div>
                <md-input-container class="md-block" flex-gt-sm="25">
                    <label>Category</label>
                    <textarea ng-model="ctrl.model.category" name="category" md-maxlength="2" required></textarea>
                    <div ng-messages="form.category.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>


            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Phase</label>
                    <md-select ng-model="ctrl.model.phase" placeholder="Phase">
                        <md-option ng-repeat="item in ctrl.phase" ng-value="item">
                            {{item}}
                        </md-option>
                    </md-select>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Ops Backstop</label>
                    <textarea ng-model="ctrl.model.opsBackstop" name="opsBackstop" md-maxlength="50" required></textarea>
                    <div ng-messages="form.opsBackstop.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="100">
                    <label>General Context Internal</label>
                    <md-tooltip md-direction="bottom">Include the same information as the external response update, with any additional response information
                        that is strictly for internal use.</md-tooltip>
                    <textarea ng-model="ctrl.model.generalContextInternal" name="generalContextInternal" md-maxlength="1500" required></textarea>
                    <div ng-messages="form.generalContextInternal.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="100">
                    <label>General Context External</label>
                    <md-tooltip md-direction="bottom">Highlight the scale of the emergency, how much bigger is it likely to get, and recent context developments
                        that can shared externally. Include numbers of people and children are who are affected, in need
                        of food or malnoursished, displaced, at risk of disease, out of school, in need or protection, or
                        killed as a result of the crisis. Include the sources of these figures.</md-tooltip>
                    <textarea ng-model="ctrl.model.generalContextExternal" name="generalContextExternal" md-maxlength="1200" required></textarea>
                    <div ng-messages="form.generalContextExternal.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="100">
                    <label>Response Update Internal</label>
                    <md-tooltip md-direction="bottom">Include the same information as the external context update, with any additional contextual information
                        that is strictly for internal use.</md-tooltip>
                    <textarea ng-model="ctrl.model.responseUpdateInternal" name="responseUpdateInternal" md-maxlength="1200" required></textarea>
                    <div ng-messages="form.responseUpdateInternal.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="100">
                    <label>Response Update External</label>
                    <md-tooltip md-direction="bottom">Provide an overview of where we are working, when the response started, and what sectors we are working
                        in. Outline any recent plans for scale up across sectors or operational areas.</md-tooltip>
                    <textarea ng-model="ctrl.model.responseUpdateExternal" name="responseUpdateExternal" md-maxlength="1200" required></textarea>
                    <div ng-messages="form.responseUpdateExternal.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="100">
                    <label>Challenges Internal</label>
                    <md-tooltip md-direction="bottom">Highlight the barriers/challenges affecting our ability to respond. This could include security incidents,
                        funding gaps, access restrictions, staffing issues etc.</md-tooltip>
                    <textarea ng-model="ctrl.model.challengesInternal" name="challengesInternal" md-maxlength="1200" required></textarea>
                    <div ng-messages="form.challengesInternal.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>
        </accordion>

        <accordion heading="Reach figures">
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Affected population</label>
                    <input type="number" ng-model="ctrl.model.affectedPopulation" name="affectedPopulation" max="9999999" required></input>
                    <div ng-messages="form.affectedPopulation.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Number of children affected</label>
                    <input type="number" ng-model="ctrl.model.affectedChildren" name="affectedChildren" max="9999999" required></input>
                    <div ng-messages="form.affectedChildren.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>



            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Strategy target (all)</label>
                    <input type="number" ng-model="ctrl.model.strategyTarget" name="strategyTarget" max="9999999" required></input>
                    <div ng-messages="form.strategyTarget.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Strategy target (children)</label>
                    <input type="number" max="9999999" required ng-model="ctrl.model.strategyTargetChildren" name="strategyTargetChildren"></input>
                    <div ng-messages="form.strategyTargetChildren.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>



            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Total reach since start date</label>
                    <input type="number" max="9999999" required ng-model="ctrl.model.totalReachSinceStart" name="totalReachSinceStart"></input>
                    <div ng-messages="form.totalReachSinceStart.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Total reach since last sitrep</label>
                    <input type="number" max="9999999" required ng-model="ctrl.model.totalReachSinceLastSitrep" name="totalReachSinceLastSitrep"></input>
                    <div ng-messages="form.totalReachSinceLastSitrep.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Children reached since start date</label>
                    <input type="number" max="9999999" required ng-model="ctrl.model.childrenReachedSinceStart" name="childrenReachedSinceStart"></input>
                    <div ng-messages="form.childrenReachedSinceStart.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Children reached since last sitrep</label>
                    <input type="number" max="9999999" required ng-model="ctrl.model.childrenReachedSinceLastSitrep" name="childrenReachedSinceLastSitrep"></input>
                    <div ng-messages="form.childrenReachedSinceLastSitrep.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>
        </accordion>

        <accordion heading="Income">
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Response strategy target (USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.responseStrategyTarget" name="responseStrategyTarget"></input>
                    <div ng-messages="form.responseStrategyTarget.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Seed funds target (USD)</label>
                    <input type="number" max="9999999" required ng-model="ctrl.model.seedFundsTarget" name="seedFundsTarget"></input>
                    <div ng-messages="form.seedFundsTarget.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Crisis Modifiers</label>
                    <input type="number" max="99999999" ng-model="ctrl.model.crisisModifiers" name="crisisModifiers"></input>
                    <div ng-messages="form.crisisModifiers.$error">
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <div class="md-block" flex-gt-sm="30">
                    <label>Seed funds target date set</label>
                    <md-datepicker ng-model="ctrl.model.seedFundsTargetDate" md-placeholder="Enter date" md-open-on-focus></md-datepicker>
                </div>
                <md-input-container class="md-block" flex-gt-sm="30" ng-if="ctrl.model.nonSciResponses">
                    <label>Secured income (USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.securedIncome" name="securedIncome"></input>
                    <div ng-messages="form.securedIncome.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="30" ng-if="ctrl.model.nonSciResponses">
                    <label>New awards in year (USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.newAwards" name="newAwards"></input>
                    <div ng-messages="form.newAwards.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding ng-if="ctrl.model.nonSciResponses">
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Response Pipeline (USD)</label>
                    <md-tooltip md-direction="bottom">High and very hich likelihood</md-tooltip>
                    <input type="number" max="99999999" required ng-model="ctrl.model.responsePipeline" name="responsePipeline"></input>
                    <div ng-messages="form.responsePipeline.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Of which appeal (USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.responsePipelineAppeal" name="responsePipelineAppeal"></input>
                    <div ng-messages="form.responsePipelineAppeal.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding ng-if="ctrl.model.nonSciResponses">
                <h4>Of which seed funds</h4>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Seed funds secured {USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.seedFundsSecured" name="seedFundsSecured"></input>
                    <div ng-messages="form.seedFundsSecured.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Seed funds secured in year (USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.seedFundsSecuredYearly" name="seedFundsSecuredYearly"></input>
                    <div ng-messages="form.seedFundsSecuredYearly.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>CSF (USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.cSF" name="cSF"></input>
                    <div ng-messages="form.cSF.$error">
                        <div ng-message="required">CSF is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>
        </accordion>

        <accordion heading="Spend" ng-if="ctrl.model.nonSciResponses">
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Response total spend {USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.responseTotalSpend" name="responseTotalSpend"></input>
                    <div ng-messages="form.responseTotalSpend.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Total spend against CSF (USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.totalSpendAgainstCSF" name="totalSpendAgainstCSF"></input>
                    <div ng-messages="form.totalSpendAgainstCSF.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Total spend through partners (USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.totalSpendThroughPartners" name="totalSpendThroughPartners"></input>
                    <div ng-messages="form.totalSpendThroughPartners.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Total spend through CTP {USD)</label>
                    <input type="number" max="99999999" required ng-model="ctrl.model.totalSpendThroughCTP" name="totalSpendThroughCTP"></input>
                    <div ng-messages="form.totalSpendThroughCTP.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Total spend on education (USD)</label>
                    <input type="number" max="9999999" required ng-model="ctrl.model.totalSpendEducation" name="totalSpendEducation"></input>
                    <div ng-messages="form.totalSpendEducation.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>
        </accordion>


        <accordion heading="Deliverables">
            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Assessment</label>
                <md-checkbox ng-model="ctrl.model.assessmentBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="55" ng-if="ctrl.model.assessmentBool">
                    <label>Address of OneNet document</label>
                    <textarea ng-model="ctrl.model.assessment" name="assessment" required></textarea>
                    <div ng-messages="form.assessment.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Outline</label>
                <md-checkbox ng-model="ctrl.model.outlineBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="55" ng-if="ctrl.model.outlineBool">
                    <label>Address of OneNet document</label>
                    <textarea ng-model="ctrl.model.outline" name="outline" required></textarea>
                    <div ng-messages="form.outline.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Strategy</label>
                <md-checkbox ng-model="ctrl.model.strategyBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="55" ng-if="ctrl.model.strategyBool">
                    <label>Address of OneNet document</label>
                    <textarea ng-model="ctrl.model.strategy" name="strategy" required></textarea>
                    <div ng-messages="form.strategy.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Plan</label>
                <md-checkbox ng-model="ctrl.model.planBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="55" ng-if="ctrl.model.planBool">
                    <label>Address of OneNet document</label>
                    <textarea ng-model="ctrl.model.plan" name="plan" required></textarea>
                    <div ng-messages="form.plan.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Operations Control review</label>
                <md-checkbox ng-model="ctrl.model.operationsControlReviewBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="55" ng-if="ctrl.model.operationsControlReviewBool">
                    <label>Address of OneNet document</label>
                    <textarea ng-model="ctrl.model.operationsControlReview" name="operationsControlReview" required></textarea>
                    <div ng-messages="form.operationsControlReview.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Real-time review</label>
                <md-checkbox ng-model="ctrl.model.realTimeReviewBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="55" ng-if="ctrl.model.realTimeReviewBool">
                    <label>Address of OneNet document</label>
                    <textarea ng-model="ctrl.model.realTimeReview" name="realTimeReview" required></textarea>
                    <div ng-messages="form.realTimeReview.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label>Representation on Humanitarian Country Team (HCT)</label>
                <md-tooltip md-direction="bottom">Because of Cluster Lead Agency status</md-tooltip>
                <md-checkbox ng-model="ctrl.model.representationOnHCTBool">
                </md-checkbox>
                <label>Education cluster or working group activated</label>
                <md-checkbox ng-model="ctrl.model.educationClusterBool">
                </md-checkbox>
                <label>SC Education Cluster staff in place</label>
                <md-checkbox ng-model="ctrl.model.staffingEducationClusterBool">
                </md-checkbox>
            </div>
            <div layout-gt-md="row" layout-padding>
                <label>SC co-leading Education Cluster or working group</label>
                <md-checkbox ng-model="ctrl.model.sciLeadingEducationClusterBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="50" ng-if="ctrl.model.sciLeadingEducationClusterBool">
                    <label>% time dedicated to the cluster</label>
                    <input type="number" ng-model="ctrl.model.percentTimeToEducationCluster" name="percentTimeToEducationCluster" max="100"></input>
                    <div ng-messages="form.percentTimeToEducationCluster.$error">
                        <div ng-message="max">That's over 100%</div>
                    </div>
                </md-input-container>
            </div>
        </accordion>

        <accordion heading="Sectors">
            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Child protection</label>
                <md-checkbox ng-model="ctrl.model.childProtectionBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="40" ng-if="ctrl.model.childProtectionBool">
                    <label>Backstop</label>
                    <textarea required ng-model="ctrl.model.childProtectionBackstop" name="childProtectionBackstop"></textarea>
                    <div ng-messages="form.childProtectionBackstop.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50" ng-if="ctrl.model.childProtectionBool">
                    <label>Summary of response to date and achievements since last sitrep</label>
                    <md-tooltip md-direction="bottom">Provide a summary of the Child Protection response sharing the total reach of the sector against the
                        target. Highlight the achievements and reach figures of the top 3 activities since the start of the
                        response, and the percentage of that reach since the last reporting period.</md-tooltip>
                    <textarea ng-model="ctrl.model.childProtectionSummary" name="childProtectionSummary" md-maxlength="500" required></textarea>
                    <div ng-messages="form.childProtectionSummary.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Education</label>
                <md-checkbox ng-model="ctrl.model.educationBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="40" ng-if="ctrl.model.educationBool">
                    <label>Backstop</label>
                    <textarea required ng-model="ctrl.model.educationBackstop" name="educationBackstop"></textarea>
                    <div ng-messages="form.educationBackstop.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50" ng-if="ctrl.model.educationBool">
                    <label>Summary of response to date and achievements since last sitrep</label>
                    <md-tooltip md-direction="bottom">Provide a summary of the Education response sharing the total reach of the sector against the target.
                        Highlight the achievements and reach figures of the top 3 activities since the start of the response,
                        and the percentage of that reach since the last reporting period. </md-tooltip>
                    <textarea ng-model="ctrl.model.educationSummary" name="educationSummary" md-maxlength="500" required></textarea>
                    <div ng-messages="form.educationSummary.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">FSL</label>
                <md-checkbox ng-model="ctrl.model.FSLBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="40" ng-if="ctrl.model.FSLBool">
                    <label>Backstop</label>
                    <textarea ng-model="ctrl.model.fSLBackstop" name="fSLBackstop" required></textarea>
                    <div ng-messages="form.fSLBackstop.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50" ng-if="ctrl.model.FSLBool">
                    <label>Summary of response to date and achievements since last sitrep</label>
                    <md-tooltip md-direction="bottom">Provide a summary of the FSL response sharing the total reach of the sector against the target. Highlight
                        the achievements and reach figures of the top 3 activities since the start of the response, and the
                        percentage of that reach since the last reporting period.</md-tooltip>
                    <textarea ng-model="ctrl.model.fSLSummary" name="fSLSummary" md-maxlength="500" required></textarea>
                    <div ng-messages="form.fSLSummary.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">WASH</label>
                <md-checkbox ng-model="ctrl.model.wASHBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="40" ng-if="ctrl.model.wASHBool">
                    <label>Backstop</label>
                    <textarea ng-model="ctrl.model.wASHBackstop" name="wASHBackstop" required></textarea>
                    <div ng-messages="form.wASHBackstop.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50" ng-if="ctrl.model.wASHBool">
                    <label>Summary of response to date and achievements since last sitrep</label>
                    <md-tooltip md-direction="bottom">Provide a summary of the WASH response sharing the total reach of the sector against the target. Highlight
                        the achievements and reach figures of the top 3 activities since the start of the response, and the
                        percentage of that reach since the last reporting period. </md-tooltip>
                    <textarea ng-model="ctrl.model.wASHSummary" name="wASHSummary" md-maxlength="500" required></textarea>
                    <div ng-messages="form.wASHSummary.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Shelter</label>
                <md-checkbox ng-model="ctrl.model.shelterBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="40" ng-if="ctrl.model.shelterBool">
                    <label>Backstop</label>
                    <textarea ng-model="ctrl.model.shelterBackstop" name="shelterBackstop" required></textarea>
                    <div ng-messages="form.shelterBackstop.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50" ng-if="ctrl.model.shelterBool">
                    <label>Summary of response to date and achievements since last sitrep</label>
                    <md-tooltip md-direction="bottom">Provide a summary of the Shelter/NFI response sharing the total reach of the sector against the target.
                        Highlight the achievements and reach figures of the top 3 activities since the start of the response,
                        and the percentage of that reach since the last reporting period.</md-tooltip>
                    <textarea ng-model="ctrl.model.shelterSummary" name="shelterSummary" md-maxlength="500" required></textarea>
                    <div ng-messages="form.shelterSummary.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Health</label>
                <md-checkbox ng-model="ctrl.model.healthBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="40" ng-if="ctrl.model.healthBool">
                    <label>Backstop</label>
                    <textarea ng-model="ctrl.model.healthBackstop" name="healthBackstop" required></textarea>
                    <div ng-messages="form.healthBackstop.$error">
                        <div ng-message="required">This is required</div>
                    </div>
                </md-input-container>
            </div>
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50" ng-if="ctrl.model.healthBool">
                    <label>Summary of response to date and achievements since last sitrep</label>
                    <md-tooltip md-direction="right">Provide a summary of the Health response sharing the total reach of the sector against the target. Highlight
                        the achievements and reach figures of the top 3 activities since the start of the response, and the
                        percentage of that reach since the last reporting period. </md-tooltip>
                    <textarea ng-model="ctrl.model.healthSummary" name="healthSummary" md-maxlength="500" required></textarea>
                    <div ng-messages="form.healthSummary.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">EHU Deployed</label>
                <md-checkbox ng-model="ctrl.model.eHUDeployed">
                </md-checkbox>
                <div class="md-block" flex-gt-sm="25" ng-hide="!ctrl.model.eHUDeployed">
                    <label>EHU Deployed Date</label>
                    <md-datepicker ng-model="ctrl.model.eHUDeployedDate" md-placeholder="Enter date" md-open-on-focus></md-datepicker>
                </div>
            </div>

            <div layout-gt-md="row" layout-padding>
                <label style="width: 128px">Nutrition</label>
                <md-checkbox ng-model="ctrl.model.nutritionBool">
                </md-checkbox>
                <md-input-container class="md-block" flex-gt-sm="50" ng-if="ctrl.model.nutritionBool">
                    <md-tooltip md-direction="right">Provide a summary of the Nutrition response sharing the total reach of the sector against the target.
                        <br> Highlight the achievements and reach figures of the top 3 activities since the start of the response,
                        and the percentage of that reach since the last reporting period.</md-tooltip>
                    <textarea ng-model="ctrl.model.nutritionSummary" name="nutritionSummary" md-maxlength="500" required></textarea>
                    <div ng-messages="form.nutritionSummary.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>


            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Link to output tracker</label>
                    <textarea ng-model="ctrl.model.outputTracker" name="outputTracker"></textarea>
                </md-input-container>
            </div>


        </accordion>

        <accordion heading="HR">
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label># of national response staff</label>
                    <input type="number" max="9999999" ng-model="ctrl.model.nationalStaffNumber" name="nationalStaffNumber"></input>
                    <div ng-messages="form.nationalStaffNumber.$error">
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label># of international staff</label>
                    <input type="number" max="9999999" ng-model="ctrl.model.internationalStaffNumber" name="internationalStaffNumber"></input>
                    <div ng-messages="form.internationalStaffNumber.$error">
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Deployment tracker link</label>
                    <textarea ng-model="ctrl.model.deploymentTrackerLink" name="deploymentTrackerLink"></textarea>
                </md-input-container>
            </div>
        </accordion>

        <accordion heading="Saftey and security">
            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Please provide an overview of the S&amp;S context, including details of security incidents, since the
                        last SitRep</label>
                    <textarea ng-model="ctrl.model.securityContext" name="securityContext" md-maxlength="700" required></textarea>
                    <div ng-messages="form.securityContext.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>What immediate S&amp;S challenges are predicted?</label>
                    <textarea ng-model="ctrl.model.securityChallenges" name="securityChallenges" md-maxlength="700" required></textarea>
                    <div ng-messages="form.securityChallenges.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>How will those challenges be managed?</label>
                    <textarea ng-model="ctrl.model.securityManagement" name="securityManagement" md-maxlength="700" required></textarea>
                    <div ng-messages="form.securityManagement.$error">
                        <div ng-message="required">This is required</div>
                        <div ng-message="md-maxlength">That's too long</div>
                    </div>
                </md-input-container>
            </div>

        </accordion>

        <accordion heading="Child Safeguarding">

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>% of staff with child safeguarding training</label>
                    <input type="number" ng-model="ctrl.model.staffChildSafegaurding" name="staffChildSafegaurding" max="100"></input>
                    <div ng-messages="form.staffChildSafegaurding.$error">
                        <div ng-message="max">That's over 100%</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Child safeguarding focal point</label>
                    <textarea ng-model="ctrl.model.safegaurdingFocalPoint" name="safegaurdingFocalPoint" md-maxlength="50"></textarea>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Key safeguarding risks to children</label>
                    <textarea ng-model="ctrl.model.safegaurdingRisks" name="safegaurdingRisks" md-maxlength="300"></textarea>
                </md-input-container>
            </div>

        </accordion>

        <accordion heading="Advocacy, Media and Comms">

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Link to Communications materials</label>
                    <md-tooltip md-direction="bottom">Provide links to avaliable communications products and channels, including Workplace and OneNet, and
                        flag forthcoming content. </md-tooltip>
                    <textarea ng-model="ctrl.model.commsPack" name="commsPack"></textarea>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Recent press releases and media coverage</label>
                    <md-tooltip md-direction="bottom">Provide links to recent press releases and media coverage and flag forthcoming content.</md-tooltip>
                    <textarea ng-model="ctrl.model.mediaCoverage" name="mediaCoverage"></textarea>
                </md-input-container>
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Internal advocacy actions and achievements</label>
                    <md-tooltip md-direction="bottom">Share upcoming advocacy opportunities, previous actions/achievements, and links to key advocacy messages.</md-tooltip>
                    <textarea ng-model="ctrl.model.advocacyActions" name="advocacyActions" md-maxlength="250"></textarea>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Spokespeople</label>
                    <textarea ng-model="ctrl.model.spokespeople" name="spokespeople"></textarea>
                </md-input-container>
            </div>

        </accordion>

        <accordion heading="Emergency supply chain">
            <div layout-gt-md="row" layout-padding>
                <label>Do you have prepositioned stock in country?</label>
                <md-checkbox ng-model="ctrl.model.prepositionedStock">
                </md-checkbox>
                <label>Are you planning to use it for this response?</label>
                <md-checkbox ng-model="ctrl.model.prepositionedStockForThisResponse">
            </div>

            <div layout-gt-md="row" layout-padding>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Planned procurement on this response (in USD)</label>
                    <input type="number" ng-model="ctrl.model.plannedProcurement" name="plannedProcurement" max="9999999"></input>
                    <div ng-messages="form.plannedProcurement.$error">
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm="50">
                    <label>Procurement spend to date (in USD)</label>
                    <input type="number" ng-model="ctrl.model.procurementSpend" name="procurementSpend" max="9999999"></input>
                    <div ng-messages="form.procurementSpend.$error">
                        <div ng-message="max">That's too high</div>
                    </div>
                </md-input-container>
            </div>
        </accordion>

    </ng-form>
</md-content>