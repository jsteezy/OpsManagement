<md-content ng-cloak class="md-inline-form">
    <ng-form name="form" novalidate>
        <wizard-header main="ctrl"></wizard-header>

        <toggle-accordion-section></toggle-accordion-section>
        
        <accordion heading="{{'REQUEST_INFO' | translate | uppercase}}">
            <div layout-gt-md="row" layout-padding>
                <people-picker ng-model="ctrl.model.eif.staffResponsibleForGuest"
                               model-ids="ctrl.model.eif.staffResponsibleForGuestId"
                               options="ctrl.features.pickerOptions.staffResponsiblePickerOptions"
                               flex-gt-sm="50"></people-picker>
                <people-picker ng-model="ctrl.model.tar.lineManager"
                               model-ids="ctrl.model.tar.lineManagerId"
                               options="ctrl.features.pickerOptions.lineManagerPickerOptions" flex-gt-sm="50"></people-picker>
            </div>
            <div layout-gt-md="row" layout-padding>
                    <md-input-container class="md-block" flex-gt-sm="50">
                        <label>{{'TRAVEL_PURPOSE_QUESTION' | translate}}</label>
                        <textarea ng-model="ctrl.model.tar.purposeOfTravel" name="purposeOfTravel" md-maxlength="255"
                                  required></textarea>
                        <div ng-messages="form.purposeOfTravel.$error"
                             ng-if='ctrl.isFieldErrorVisible(form, "purposeOfTravel")'>
                            <div ng-messages-include="error-messages"></div>
                        </div>
                    </md-input-container>
                    <people-picker ng-model="ctrl.model.eif.additionalStaffMember"
                                   model-ids="ctrl.model.eif.additionalStaffMemberId"
                                   options="ctrl.features.pickerOptions.additionalStaffMemberOptions" 
                                   flex-gt-sm="50"></people-picker>
            </div>
        </accordion>

        <eif-wizard-common ng-model="ctrl.model.eif" countries="ctrl.countries"></eif-wizard-common>

        <tar-wizard-common ng-model="ctrl.model.tar" currencies="ctrl.currencies"></tar-wizard-common>

        <accordion heading="{{'TERMS_AND_CONDITIONS' | translate | uppercase}}">
            <question ng-model="ctrl.model.eif.informationRead.travelProcedures"
                      options="ctrl.features.questionsOptions.travelProceduresOptions"></question>
            <question ng-model="ctrl.model.eif.informationRead.travelPolicy"
                      options="ctrl.features.questionsOptions.travelPolicyOptions"></question>
            <question ng-model="ctrl.model.eif.informationRead.departureShare"
                      options="ctrl.features.questionsOptions.departureShareOptions"></question>
            <question ng-model="ctrl.model.eif.informationRead.safeGuardingPolicy"
                      options="ctrl.features.questionsOptions.safeGuardingPolicyOptions"></question>
            <md-subheader>
                <md-checkbox ng-model="ctrl.model.eif.formSubmitConfirmation" aria-label="submitConfirmation">
                    {{'TAR_SUBMIT_CONFIRMATION' | translate}}
                </md-checkbox>
            </md-subheader>
        </accordion>
    </ng-form>
</md-content>